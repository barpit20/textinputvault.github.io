<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1.0, user-scalable=no, width=device-width"
    />
    <title>textinputvault</title>
    <link rel="stylesheet" type="text/css" href="zoomwall.css" />
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
      }
      body {
        background-color: black;
      }
      header {
        padding: 1em;
        background-color: #333;
        text-align: center;
      }
      a:link,
      a:visited {
        text-decoration: none;
        font-family: sans-serif;
        color: white;
      }
      a:hover {
        color: #ddd;
      }
      #author {
        float: left;
      }
      #repo {
        float: right;
      }
      #title {
        display: inline-block;
        font-weight: bold;
      }
    </style>

    <script type="module">
      import * as zoomwall from "./lib/zoomwall.js";

      window.onload = function () {
        zoomwall.create(document.getElementById("zoomwall"), true);
        loadImages();
      };

      function loadImages() {
        fetch("./images.json") // Adjust the path to where your JSON file is stored
          .then((response) => response.json())
          .then((images) => {
            const container = document.getElementById("zoomwall");
            images.forEach((image) => {
              const img = document.createElement("img");
              img.src = `./media/${image.name}_${image.size}.${image.format}`;
              if (image.size === "250") {
                // Assuming '250' is your thumbnail size
                const highresImage = images.find(
                  (img) => img.name === image.name && img.size !== "250"
                );
                if (highresImage) {
                  img.dataset.highres = `./media/${highresImage.name}_${highresImage.size}.${highresImage.format}`;
                }
              }
              container.appendChild(img);
            });
          })
          .catch((error) => console.error("Error loading images:", error));
      }
    </script>
  </head>
  <body>
    <header>
      <a id="author" href=""></a>
      <a id="repo" href=""></a>
      <a id="title" href=""></a>
    </header>
    <div id="zoomwall" class="zoomwall">
      <!-- Images will be loaded here by JavaScript -->
    </div>
  </body>
</html>
